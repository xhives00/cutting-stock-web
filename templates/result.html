<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Result</title>
    <style>
      body { font-family: system-ui, sans-serif; max-width: 900px; margin: 40px auto; padding: 0 16px; }
      pre { background: #f6f6f6; padding: 12px; overflow:auto; }
    </style>
  </head>
  <body>
    <h1>Výsledok</h1>

    <p><b>Stock length:</b> {{ stock_length }} mm</p>
    <p><b>Items:</b> {{ items }}</p>

    <h2>Výsledné rezanie</h2>

    <table border="1" cellpadding="6" cellspacing="0">
      <tr>
        <th>Tyč</th>
        <th>Kombinácia rezov (mm)</th>
        <th>Počet kusov</th>
        <th>Odpad (mm)</th>
      </tr>

      {% for bar in result.bars %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>
          {{ bar.combo | join(" + ") }}
        </td>
        <td>{{ bar.combo | length }}</td>
        <td>{{ bar.waste }}</td>
      </tr>
      {% endfor %}
    </table>

    <h2>Štatistika</h2>
    <ul>
      <li>Počet tyčí: {{ result.stats.real_bars }}</li>
      <li>Ideálne minimum: {{ result.stats.ideal_bars }}</li>
      <li>Efektivita: {{ "%.2f"|format(result.stats.efficiency * 100) }} %</li>
      <li>Celkový odpad: {{ result.stats.total_waste }} mm</li>
    </ul>


    <p><a href="/">← späť</a></p>
  </body>
</html>
